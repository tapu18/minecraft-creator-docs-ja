---
author: JimSeaman42
ms.author: mikeam
title: Fog JSON and Introduction to Fogs
description: "A reference document introducing the concept of fogs"
ms.service: minecraft-bedrock-edition
---

<a id="fog-json-and-introduction-to-fogs"></a>

# Fog JSON とフォグの概要

フォグは、プレイヤーの視界距離を遮るために使用できるレンダリング機能です。例えば、描画距離を超えた未読み込みのチャンクなどの境界を隠すために使用できます。また、フォグは雰囲気のある環境演出を生み出すのに効果的に使用できます。目的の効果を生み出すために使用できるフォグにはいくつかの種類があります。

フォグはリソースパック内の **fogs** ディレクトリ配下の個別の JSON ファイルで設定します。

<a id="active-fog-stack"></a>

## アクティブフォグスタック

アクティブフォグスタックは、任意の時点でどのフォグ設定を使用するかを決定するために使用されます。各プレイヤーは固有のフォグスタックを持ちます。

ゲームがフォグの値を決定する必要があるときは常に、フォグスタックの最上部から開始し、現在の設定タイプの値が見つかるまでチェックします。スタック上のフォグ設定がいずれも一致しない場合、ゲームはエンジンによって定義されたデフォルト値を使用します。

フォグスタックは次のように初期設定されます：

- Command：サーバーコマンドによってプレイヤーに設定された設定。
- Biomes：各バイオームで発生するように定義された設定。
- Data Default：デフォルトのデータ駆動設定。
- Engine Default：ハードコードされた値。

<a id="biomes"></a>

### バイオーム

バイオームレイヤーは、プレイヤーの位置周辺のバイオームによって定義されたすべての設定の平均です。バイオーム設定は、各個別のバイオームに対して **biomes_client.json** で定義されます。

<a id="command"></a>

### コマンド

コマンドレイヤーには、**/fog** コマンドによって開始されたすべての設定が含まれ、上から下へ 1 つのスタックとして評価されます。詳細については、**Fog Command** セクションを参照してください。

<a id="data-default"></a>

### データデフォルト

データデフォルトは、`fog_identifier` 経由でフォグ定義を参照する場合、**biomes_client.json** の `default` で定義されます。

<a id="engine-default"></a>

### エンジンデフォルト

ハードコードされた値は、データ駆動の値がない場合に使用されます。ゲームがフォグスタックの最下部に到達したときに一致するフォグ設定がない場合、エンジンデフォルトが読み込まれます。

<a id="fog-in-biomes"></a>

## バイオームにおけるフォグ

フォグ設定は **biomes_client.json** でバイオームに対して決定できます。各バイオームエントリでは、`fog_identifier` という変数を持つことができ、フォグ設定に一致する名前を設定できます。

`default` エントリもこの方法で設定でき、アクティブフォグスタック内のバイオームエントリの下で使用されます。バイオームフォグ設定はデフォルト設定を完全に置き換えるのではなく、**アクティブフォグスタック** セクションで説明されているように、デフォルトの上に読み込まれます。

`default` バイオームエントリには、デフォルトで `false` に設定されている `remove_all_prior_fog` タグがあります。
`false` に設定されている場合（またはタグが入力されていない場合）、不足しているフォグ定義は、その定義が入力されている下位のリソースパックによって埋められます。
`true` に設定されている場合、現在のパックより前のリソースパックのすべての以前のフォグ定義がクリアされ、現在のリソースパックがすべてのフォグの新しい開始点となります。

各バイオーム（`default` を含む）には、デフォルトで `false` に設定されている `inherit_from_prior_fog` タグがあります。
`false` に設定されている場合（またはタグが入力されていない場合）、現在のリソースパックのバイオームは、現在保存されている `fog_identifier` タグを独自のもので上書きします。
`true` に設定されている場合、一致するすべてのバイオームからの `fog_identifier` タグが結合され、そのバイオームの新しいマージされたフォグ定義が作成されます。

<a id="the-fog-command"></a>

## Fog コマンド

`/fog` コマンドは、各プレイヤーのアクティブフォグスタックの現在のレイヤーでフォグ設定を管理するために使用できます。

このレイヤーのフォグ設定は、`/fog` コマンドの `push`、`pop`、`remove` モードによって順序付けられます。

フォグ設定は、アクティブフォグスタック内で上から下へ評価され、これには最初に現在のレイヤー内の上から下も含まれます。

このレイヤーのフォグ設定は保存され、ワールドの読み込み時にプレイヤーごとに復元されます。ワールドの保存前にプッシュされたフォグ設定は、ワールドの読み込み後も適用され、その後ポップできます。

- **Push:** プレイヤーのアクティブフォグスタックの Fog Command レイヤーの最上部に新しいフォグ設定をプッシュします。
- **Pop:** 選択されたプレイヤーから最上部のフォグ設定を削除します。
- **Remove:** 選択されたプレイヤーから "/fog push" コマンドを通じて以前に提供されたすべての一致するフォグ設定を削除します。
